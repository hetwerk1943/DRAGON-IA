<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Multi-Agent Dashboard â€“ UltraChat AI</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#58a6ff" />
  <style>
    .agent-controls {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      align-items: center;
      margin-bottom: 1rem;
    }
    .agent-log {
      background-color: var(--bg-secondary);
      border: 1px solid var(--border-color);
      border-radius: 8px;
      padding: 0.75rem 1rem;
      font-family: monospace;
      font-size: 0.82rem;
      color: var(--text-secondary);
      max-height: 220px;
      overflow-y: auto;
    }
    .agent-log p {
      margin: 0.15rem 0;
    }
    .agent-log .log-info  { color: var(--accent); }
    .agent-log .log-ok    { color: var(--success); }
    .agent-log .log-error { color: var(--danger); }
  </style>
</head>
<body>

  <header>
    <h1>ğŸ‰ Multi-Agent Dashboard</h1>
    <nav>
      <a href="index.html">Chat</a>
      <a href="agent.html">Multi-Agent</a>
      <a href="web/joke-generator/index.html">Å»arty</a>
      <a href="web/repo-agent/index.html">Repo Agent</a>
    </nav>
  </header>

  <!-- Ad Banner -->
  <div class="ad-banner" id="ad-banner" role="complementary" aria-label="Baner reklamowy">
    <span>ğŸ“¢ Wspieraj projekt â€“ <a href="https://github.com/hetwerk1943/DRAGON-IA" target="_blank" rel="noopener">zostaw â­ na GitHub</a></span>
    <button class="ad-close" aria-label="Zamknij baner">âœ•</button>
  </div>

  <main style="max-width:1100px;">
    <h2 style="font-size:1rem; color:var(--text-secondary); margin-bottom:1rem;">
      ZarzÄ…dzaj agentami AI â€“ uruchamiaj, zatrzymuj i monitoruj statusy w czasie rzeczywistym.
    </h2>

    <div class="card-grid" id="agent-grid">
      <!-- Cards are injected by agent-dashboard.js -->
    </div>

    <div style="margin-top:1.5rem;">
      <h3 style="font-size:0.95rem; margin-bottom:0.5rem; color:var(--text-secondary);">Log zdarzeÅ„</h3>
      <div class="agent-log" id="agent-log" role="log" aria-live="polite">
        <p class="log-info">[system] Dashboard zaÅ‚adowany.</p>
      </div>
    </div>

    <div class="agent-controls" style="margin-top:1rem;">
      <button id="btn-start-all">â–¶ Uruchom wszystkie</button>
      <button id="btn-stop-all" class="danger">â–  Zatrzymaj wszystkie</button>
      <button id="btn-clear-log" class="secondary">WyczyÅ›Ä‡ log</button>
      <button id="ad-toggle" class="secondary" style="margin-left:auto;font-size:0.8rem;">WyÅ‚Ä…cz reklamy</button>
    </div>
  </main>

  <footer>
    UltraChat AI Omega &copy; 2024 &mdash; <a href="index.html">WrÃ³Ä‡ do chatu</a>
  </footer>

  <script src="main.js"></script>
  <script>
    /* â”€â”€ Agent definitions â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    const AGENTS = [
      {
        id: 'chat-agent',
        name: 'Chat Agent',
        description: 'Lokalny asystent ChatGPT â€“ odpowiada na pytania uÅ¼ytkownika.',
        link: 'index.html'
      },
      {
        id: 'joke-agent',
        name: 'Joke Generator',
        description: 'Generuje losowe Å¼arty i dowcipy korzystajÄ…c z zewnÄ™trznego API.',
        link: 'web/joke-generator/index.html'
      },
      {
        id: 'repo-agent',
        name: 'Repo Agent',
        description: 'PrzeglÄ…da i analizuje repozytoria GitHub na Å¼Ä…danie.',
        link: 'web/repo-agent/index.html'
      },
      {
        id: 'quiz-agent',
        name: 'Quiz Agent',
        description: 'Interaktywny moduÅ‚ quizÃ³w i testÃ³w wiedzy AI.',
        link: 'index.html#quiz'
      }
    ];

    const agentStatus = {};
    AGENTS.forEach((a) => (agentStatus[a.id] = 'offline'));

    /* â”€â”€ Render cards â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    function renderCards() {
      const grid = document.getElementById('agent-grid');
      grid.innerHTML = AGENTS.map((a) => `
        <div class="card" id="card-${a.id}">
          <h2>${a.name}</h2>
          <p>${a.description}</p>
          <div style="display:flex; gap:0.5rem; align-items:center; flex-wrap:wrap; margin-top:0.5rem;">
            <span class="badge ${agentStatus[a.id] === 'online' ? 'online' : 'offline'}" id="badge-${a.id}">
              ${agentStatus[a.id] === 'online' ? 'online' : 'offline'}
            </span>
            <button onclick="toggleAgent('${a.id}')" id="btn-${a.id}" style="font-size:0.8rem; padding:0.3rem 0.75rem;">
              ${agentStatus[a.id] === 'online' ? 'Zatrzymaj' : 'Uruchom'}
            </button>
            <a href="${a.link}" style="font-size:0.8rem; color:var(--accent);">OtwÃ³rz â†’</a>
          </div>
        </div>
      `).join('');
    }

    /* â”€â”€ Log helper â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    function addLog(msg, type = 'info') {
      const log = document.getElementById('agent-log');
      const p = document.createElement('p');
      p.className = `log-${type}`;
      const ts = new Date().toLocaleTimeString('pl-PL');
      p.textContent = `[${ts}] ${msg}`;
      log.appendChild(p);
      log.scrollTop = log.scrollHeight;
    }

    /* â”€â”€ Toggle agent â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    function toggleAgent(id) {
      const agent = AGENTS.find((a) => a.id === id);
      if (!agent) return;
      if (agentStatus[id] === 'offline') {
        agentStatus[id] = 'online';
        addLog(`${agent.name} uruchomiony.`, 'ok');
      } else {
        agentStatus[id] = 'offline';
        addLog(`${agent.name} zatrzymany.`, 'error');
      }
      renderCards();
    }

    /* â”€â”€ Bulk controls â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    document.getElementById('btn-start-all').addEventListener('click', () => {
      AGENTS.forEach((a) => {
        if (agentStatus[a.id] !== 'online') {
          agentStatus[a.id] = 'online';
        }
      });
      addLog('Wszystkie agenty uruchomione.', 'ok');
      renderCards();
    });

    document.getElementById('btn-stop-all').addEventListener('click', () => {
      AGENTS.forEach((a) => (agentStatus[a.id] = 'offline'));
      addLog('Wszystkie agenty zatrzymane.', 'error');
      renderCards();
    });

    document.getElementById('btn-clear-log').addEventListener('click', () => {
      document.getElementById('agent-log').innerHTML = '';
      addLog('Log wyczyszczony.', 'info');
    });

    /* â”€â”€ Init â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    renderCards();
  </script>
</body>
</html>
