<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="UltraChat AI Omega ‚Äì Tw√≥j inteligentny asystent AI" />
  <meta name="theme-color" content="#7c3aed" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="DragonAI" />

  <!-- Open Graph -->
  <meta property="og:title" content="UltraChat AI Omega" />
  <meta property="og:description" content="Inteligentny asystent AI z obs≈ÇugƒÖ PWA" />
  <meta property="og:type" content="website" />

  <title>UltraChat AI Omega üêâ</title>

  <!-- PWA manifest -->
  <link rel="manifest" href="/manifest.json" />

  <!-- AdSense (SAFE ‚Äì loaded only when ads are enabled, non-blocking) -->
  <script>
    (function () {
      if (localStorage.getItem('dragonai_ads_enabled') === 'false') return;
      var s = document.createElement('script');
      s.async = true;
      s.src = 'https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXXXXXXXX';
      s.setAttribute('crossorigin', 'anonymous');
      document.head.appendChild(s);
    })();
  </script>

  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --bg: #0d0d0d;
      --surface: #1a1a2e;
      --accent: #7c3aed;
      --accent-light: #a78bfa;
      --text: #e2e8f0;
      --text-muted: #94a3b8;
      --radius: 0.75rem;
    }

    body {
      font-family: 'Segoe UI', system-ui, sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100dvh;
      display: flex;
      flex-direction: column;
    }

    header {
      background: var(--surface);
      padding: 1rem 1.5rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 1px solid #2d2d4e;
    }

    header h1 { font-size: 1.25rem; color: var(--accent-light); }

    .ads-toggle-label {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.8rem;
      color: var(--text-muted);
      cursor: pointer;
    }

    .ads-toggle-label input[type="checkbox"] { cursor: pointer; }

    main {
      flex: 1;
      display: grid;
      grid-template-columns: 1fr;
      gap: 1.5rem;
      padding: 1.5rem;
      max-width: 900px;
      width: 100%;
      margin: 0 auto;
    }

    @media (min-width: 700px) {
      main { grid-template-columns: 2fr 1fr; }
    }

    /* Chat */
    .chat-section {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }

    #chat-messages {
      background: var(--surface);
      border-radius: var(--radius);
      padding: 1rem;
      min-height: 320px;
      max-height: 480px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .message {
      padding: 0.6rem 0.9rem;
      border-radius: var(--radius);
      max-width: 85%;
      word-break: break-word;
      white-space: pre-wrap;
    }

    .message--user {
      background: var(--accent);
      align-self: flex-end;
      color: #fff;
    }

    .message--assistant {
      background: #2d2d4e;
      align-self: flex-start;
    }

    .chat-input-row {
      display: flex;
      gap: 0.5rem;
    }

    #chat-input {
      flex: 1;
      background: var(--surface);
      border: 1px solid #2d2d4e;
      border-radius: var(--radius);
      padding: 0.65rem 1rem;
      color: var(--text);
      font-size: 1rem;
      resize: none;
    }

    #chat-input:focus { outline: 2px solid var(--accent); }

    #send-btn {
      background: var(--accent);
      color: #fff;
      border: none;
      border-radius: var(--radius);
      padding: 0.65rem 1.25rem;
      cursor: pointer;
      font-size: 1rem;
      transition: background 0.2s;
    }

    #send-btn:hover { background: var(--accent-light); }

    /* Quiz */
    .quiz-section {
      background: var(--surface);
      border-radius: var(--radius);
      padding: 1.25rem;
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }

    .quiz-section h2 { color: var(--accent-light); font-size: 1rem; }

    .quiz-question { font-weight: 600; }

    .quiz-options { list-style: none; display: flex; flex-direction: column; gap: 0.4rem; }

    .quiz-option {
      background: #2d2d4e;
      border: 1px solid #3d3d6e;
      border-radius: var(--radius);
      padding: 0.5rem 0.9rem;
      color: var(--text);
      cursor: pointer;
      text-align: left;
      width: 100%;
      transition: background 0.15s;
    }

    .quiz-option:hover { background: var(--accent); }

    .quiz-done { color: var(--accent-light); font-weight: 600; }

    /* AdSense slot */
    .ad-slot {
      background: #111122;
      border: 1px dashed #2d2d4e;
      border-radius: var(--radius);
      padding: 0.5rem;
      text-align: center;
      min-height: 90px;
    }

    footer {
      text-align: center;
      padding: 0.75rem;
      font-size: 0.75rem;
      color: var(--text-muted);
      border-top: 1px solid #1a1a2e;
    }
  </style>
</head>
<body>

  <header>
    <h1>üêâ UltraChat AI Omega</h1>
    <label class="ads-toggle-label">
      <input type="checkbox" id="ads-toggle" />
      Reklamy
    </label>
  </header>

  <main>
    <!-- Chat section -->
    <section class="chat-section" aria-label="Czat z AI">
      <div id="chat-messages" role="log" aria-live="polite" aria-label="Wiadomo≈õci czatu"></div>
      <div class="chat-input-row">
        <textarea
          id="chat-input"
          rows="2"
          placeholder="Napisz wiadomo≈õƒá‚Ä¶ (Enter aby wys≈Çaƒá)"
          aria-label="Pole wiadomo≈õci"
        ></textarea>
        <button id="send-btn" aria-label="Wy≈õlij">Wy≈õlij</button>
      </div>

      <!-- SAFE AdSense slot ‚Äì hidden when ads are disabled -->
      <div class="ad-slot" aria-hidden="true">
        <ins
          class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
          data-ad-slot="1234567890"
          data-ad-format="auto"
          data-full-width-responsive="true"
        ></ins>
      </div>
    </section>

    <!-- Quiz section -->
    <section class="quiz-section" aria-label="Quiz AI">
      <h2>üß† Quiz</h2>
      <div id="quiz-container"></div>
    </section>
  </main>

  <footer>
    &copy; 2025 DragonAI &bull; Powered by OpenAI &bull;
    <a href="https://mozilla.org/MPL/2.0/" style="color:var(--accent-light)">MPL 2.0</a>
  </footer>

  <script type="module" src="/main.js"></script>
</body>
</html>
